<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1" />
    <title>ユーザエージェント表示</title>
    <script src="ua.js"></script>
    <style type="text/css">
      p{
        margin-top:1px;
        margin-bottom:1px;
      }
    </style>
  </head>
  <body>
    <p id="os"></p>
    <p id="desktop-os"></p>
    <p id="android-ver"></p>
    <p id="ios-ver"></p>
    <div id="ua"></div>
    <script>
      function androidVersion() {
        var ua = navigator.userAgent;
        var androidversion = 0;
        if( ua.indexOf("Android") > 0 )
        {
          androidversion = parseFloat(ua.slice(ua.indexOf("Android")+8));
        }
        return androidversion;
      }
      function iOSversion() {
        if (/iP(hone|od|ad)/.test(navigator.platform)) {
          var v = (navigator.appVersion).match(/OS (\d+)_(\d+)_?(\d+)?/);
          return [parseInt(v[1], 10), parseInt(v[2], 10), parseInt(v[3] || 0, 10)];
        }
        return 0;
      }
      function getProperties(obj, level) {
        if(level == undefined){level = 0;}
        var properties = '';
        for (var prop in obj){
            if(obj.hasOwnProperty(prop)){
              properties += "<p>" + "-".repeat(level*2) + prop + "=" + obj[prop] + "</p>";
            }
            //if(!Array.isArray(obj[prop]) && Object.keys(obj[prop]).length > 0 && obj.hasOwnProperty(prop))
            if(prop == "browser")
            {
              properties += getProperties(obj[prop], level + 1);
            }
        }
        return properties;
      }
      document.getElementById("android-ver").innerHTML = "Android Version=" + androidVersion();
      document.getElementById("ios-ver").innerHTML = "iOS Version=" + iOSversion();
      document.getElementById("os").innerHTML = window.navigator.platform;
      document.getElementById("ua").innerHTML = getProperties(ua);
      
    </script>
    <script type="text/javascript">
      var os, ua = navigator.userAgent;
      if (ua.match(/Win(dows )?NT 6\.3/)) {
      	os = "Windows 8.1";				// Windows 8.1 の処理
      }
      else if (ua.match(/Win(dows )?NT 6\.2/)) {
      	os = "Windows 8";				// Windows 8 の処理
      }
      else if (ua.match(/Win(dows )?NT 6\.1/)) {
      	os = "Windows 7";				// Windows 7 の処理
      }
      else if (ua.match(/Win(dows )?NT 6\.0/)) {
      	os = "Windows Vista";				// Windows Vista の処理
      }
      else if (ua.match(/Win(dows )?NT 5\.2/)) {
      	os = "Windows Server 2003";			// Windows Server 2003 の処理
      }
      else if (ua.match(/Win(dows )?(NT 5\.1|XP)/)) {
      	os = "Windows XP";				// Windows XP の処理
      }
      else if (ua.match(/Win(dows)? (9x 4\.90|ME)/)) {
      	os = "Windows ME";				// Windows ME の処理
      }
      else if (ua.match(/Win(dows )?(NT 5\.0|2000)/)) {
      	os = "Windows 2000";				// Windows 2000 の処理
      }
      else if (ua.match(/Win(dows )?98/)) {
      	os = "Windows 98";				// Windows 98 の処理
      }
      else if (ua.match(/Win(dows )?NT( 4\.0)?/)) {
      	os = "Windows NT";				// Windows NT の処理
      }
      else if (ua.match(/Win(dows )?95/)) {
      	os = "Windows 95";				// Windows 95 の処理
      }
      else if (ua.match(/Mac|PPC/)) {
      	os = "Mac OS";					// Macintosh の処理
      }
      else if (ua.match(/Linux/)) {
      	os = "Linux";					// Linux の処理
      }
      else if (ua.match(/^.*\s([A-Za-z]+BSD)/)) {
      	os = RegExp.$1;					// BSD 系の処理
      }
      else if (ua.match(/SunOS/)) {
      	os = "Solaris";					// Solaris の処理
      }
      else {
      	os = "Unknown";					// 上記以外 OS の処理
      }
      document.getElementById("desktop-os").innerHTML = "デスクトップOS=" + os; 
    </script>
  </body>
</html>  